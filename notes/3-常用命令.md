# Linux基本命令

## 1.Linux终端、Shell提示符、Bash基本语法

* Linux终端介绍
1. tty命令看到当前所属的虚拟终端 --->打印 /dev/pts/0
2. shift+ctrl+N 快速打开一个终端。
3. 终端字体放大： shift+ctrl+加号。终端字体缩小：ctrl+减号

* 不同虚拟终端之间通讯：
1. 向指定终端发送消息：echo xuegod > /dev/pts/1
2. 对所有终端广播消息：wall "全体广播XXXX"

* SHELL俗称壳，它提供了用户与内核进行交互操作的一种接口，它接收用户输入的命令并把它送入内核去执行
1. Shell实际上是一个命令解释器，它通过解释用户输入的命令并把它传输给系统内核去执行。
2. Shell有自己的编程语言用于对命令的编辑，它允许用户编写由shell命令组成的程序。
3. Shell编程语言具有普通编程语言的很多特点，比如它也有循环结构和分支控制结构等，用这种编程语言编写的Shell程序与其他应用程序具有同样的效果。
4. 内部命令：在系统启动时就调入内存，是常驻内存的，所以执行效率高
5. 外部命令：是系统软件的功能，用户需要时才从硬盘中读入内存
6. 使用type命令区分内外部命令，语法: type 要检测的命令 例如： type cat

* shell提示符“#”号-->ROOT用户，“$”号-->普通用户

* Bash Shell介绍：使用cat /etc/shells查看所有shell类型,具体使用的是哪一个，取决于用户配置，可以看一下/etc/passwd文件的每一行的最后一个字段 # head  -1 /etc/passwd --->root:x:0:0:root:/root:/bin/bash
1. /bin/sh
2. /bin/bash
3. /sbin/nologin
4. /usr/bin/sh
5. /usr/bin/bash
6. /usr/sbin/nologin
7. /bin/tcsh

## 2.基本命令操作

* 在LINUX中使用一个命令，命令格式如下：
1. #/$ 命令 【选项】 【参数】
2. 命令：具体执行的命令，比如pwd,head
3. 选项：会影响到命令的一些形为操作，通常以- --实现
4. 命令作用的对象

* ls查看当前目录下有哪些文件（list）
1. -l 列出文件的详细信息，如创建者，创建时间，文件的读写权限列表等等，长列表
2. -a 列出目录下所有的文件，包括以“.“开头的隐藏文件（linux下隐藏文件是以 . 开头的，如果存在2个点代表存在着父目录,1个点表示当前目录）
3. -d 查看目录(不查看里面的内容)
4. -S 以文件的大小进行排序
5. ls -alh 选项可以合并使用，并且不分先后顺序

* 别名的使用
1. 临时定义别名： # alias 别名='别名指向的内容'
2. 临时删除别名： # unalias 别名
3. 当前用户设置别名永久生效 # vim /当前用户名/.bashrc ，在编辑器中添加行(alias 别名='别名指向的内容')
4. 当前用户设置别名永久生效 # vim /etc/.bashrc ，在编辑器中添加行(alias 别名='别名指向的内容')

* 重定向>和管道符|
1. ls > xxx.txt 可以把ls的输出结果覆盖至xxx.txt的内容中去
2. ls >> xxx.txt 而>>的作用是把输出结果追加到xxx.txt中
3. ls -alh /etc | more 意思是把ls -alh /etc的输出结果先导至管道中，然后more命令会从管道中提取内容分屏显示
4. 管道符| more的组合更为常用，避免产生临时文件
5. 管道符一行仅支持一个命令，如果使用多个命令一行内同时输出，可以用;间隔，例如‘ls;ls -alh’,尽量避免这种用法

* 软链接和硬链接
1. ln -s 1.txt 1-softlink.txt 软链接，类似于快捷方式，原文件删除后，快捷方式不可用
2. ln 1.txt 1-hardlink.txt 硬链接，在原文件删除后，硬链接的文档依旧可以使用
3. 软链接是指向原文件的文件名，而硬链接是直接指向inode(元数据中的字段，用于指向磁盘存储位置)
4. 硬链接数量可以使用 ls -lh 查看

* cd切换目录（change directory）
1. 直接输入cd，等价于 cd ~
2. cd .. 返回到上级目录
3. cd - 表示返回切换前的目录，即上一次的目录

* history查看历史命令,快速查找历史命令的方法：
1. CTRL+R 然后输入某条命令的关键字，arror right键选中
2. !5 执行历史命令中第五条命令
3. !字符串 执行历史命令中第一个以'字符串'开头的命令

* 其他快捷键：
1. CTRL+C 终止前台运行的程序 , 如：ping g.cn 后，想停止按下Ctrl+C
2. CTRL+D 退出 等价exit
3. CTRL+L 清屏 等价clear
4. CTRL+R 搜索历史命令
5. !$ 引用上一个命令的最后一个参数
6. tab补全，只能补全命令和文件

## 3.系统时间管理

* 在Linux中有硬件时钟与系统时钟等两种时钟。硬件时钟是指主机板上的时钟设备，也就是通常可在BIOS画面设定的时钟；系统时钟则是指kernel中 的时钟；所有Linux相关指令与函数都是读取系统时钟的设定。当Linux启动时，系统时钟会去读取硬件时钟的设定，之后系统时钟即独立运作
1. 查看硬件时间：hwclock
2. 查看系统时间：date
3. 时区：UTC  （Universal Time Coordinated）：世界标准时间 / GMT （Greenwich Mean Time）：格林尼治时间 / CST  （China standard Time）：中国标准时间

* date命令修改系统时间  date -s "2018-11-2 22:30" --->2018年 11月 02日 星期五 22:30:00 CST
1. %F 完整日期格式，等价于 %Y-%m-%d //年月日
2. %y 年份最后两位数位 (00-99)
3. %Y 年份
4. %m month (01..12)
5. %d 按月计的日期(例如：01)
6. %M minute (00..59)
7. %H 小时(00-23)
8. %S 秒(00-60)

* date -d, --date=STRING  #显示由字符串描述的时间，而不是“当前时间”。# date -d "+1 months" +%F ---> 2018-8-07

* time命令一般用来测量一个命令的运行时间
1. 使用方法：time 在后面直接跟上命令和参数 # time ls -l /etc/
2. real：实际使用时间 / user：用户状态使用的时间 / sys：内核状态使用的时间

* cal日历命令 获取当前日历

## 4.帮助命令使用

* 遇到命令不知道添加哪个参数，可以使用命令帮助查看相关介绍
1. man  命令  ：查看手册页或命令描述 # man find
2. 命令 -h或--help查看命令选项 # find --help

## 5.开关机命令及7个启动级别

* shutdown  [选项] 关机，重启，定时关机
1. -r  => 重新启动计算机 # shutdown -r  22：22    #22:22 指定具体的时间点重启
2. -h  => 关机 # shutdown -h now      #立即关机
3. -h  时间  =>定时关机 # shutdown -h 23:30   #指定具体的时间点进行关机

* 7个启动级别，切换系统运行级别 init 0-6
1. 0 系统停机模式，系统默认运行级别不能设置为0，否则不能正常启动，机器关的
2. 1 单用户模式，root权限，用于系统维护，禁止远程登陆，就像Windows下的安全模式登录
3. 2 多用户模式，没有NFS和网络支持
4. 3 完整的多用户文本模式，有NFS和网络，登陆后进入控制台命令行模式
5. 4 系统未使用，保留一般不用，在一些特殊情况下可以用它来做一些事情。例如在笔记本电脑的电池用尽时，可以切换到这个模式来做一些设置
6. 5 图形化模式，登陆后进入图形GUI模式，X Window系
7. 6 重启模式，默认运行级别不能设为6，否则不能正常启动。运行init 6机器就会重启

* 设置默认的运行级别 # systemctl set-default multi-user.target # 第三级别

## 6.进程管理

* ps查看进程列表
1. ps 默认选项查看终端下打开的进程
2. ps -aux 可以查看完整进程列表

* top对进程列表进行排序，并持续显示(q退出)，htop可以显示更多详情

* kill 终止进程命令
1. 语法：kill [进程pid]
2. kill -9 9999 强制终止pid为9999的进程

## 7.磁盘管理

* df查看磁盘使用情况

* du查看当前路径的文件占用空间总量
